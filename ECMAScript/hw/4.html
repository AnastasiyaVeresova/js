<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
        #myElement {
            width: 200px;
            height: 200px;
            background-color: lightblue;
            /* Начальный цвет фона */
            border: 5px solid black;
        }
    </style>
</head>

<body>
    <div id="myElement"></div>

    <script>
        // Реализуйте асинхронную функцию для получения данных о пользователе с удаленного сервера:
        async function getUserData(userId) {
            try {
                const response = await fetch(
                    `https://api.example.com/users/${userId}`
                );
                if (!response.ok) {
                    throw new Error("User not found");
                }
                const userData = await response.json();
                return userData;
            } catch (error) {
                return Promise.reject(error.message);
            }
        }
        // Пример использования функции
        getUserData(1)
            .then((user) => console.log(user))
            .catch((error) => console.error(error));

        // -----------------------------------------------------

        // Реализуйте функцию для отправки данных о пользователе на сервер:

        async function saveUserData(user) {
            try {
                const response = await fetch("https://api.example.com/users", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                    },
                    body: JSON.stringify(user),
                });
                if (!response.ok) {
                    throw new Error("Failed to save user data");
                }
            } catch (error) {
                return Promise.reject(error.message);
            }
        }
        // Пример использования функции

        const user = {
            name: "John Smith",
            age: 30,
            email: "john@example.com",
        };
        saveUserData(user)
            .then(() => {
                console.log("User data saved successfully");
            })
            .catch((error) => {
                console.error(error);
            });

        // -----------------------------------------------------

        // Реализуйте функцию, которая изменяет стиль элемента с задержкой:

        function changeStyleDelayed(id, delay1, delay2) {
            const element = document.getElementById(id);
            if (element) {
                setTimeout(() => {
                    element.style.backgroundColor = "yellow"; // Меняем цвет фона на желтый
                    setTimeout(() => {
                        element.style.borderColor = "red"; // Меняем цвет границы на красный
                    }, delay2);
                }, delay1);
            } else {
                console.error(`Элемент с id "${id}" не найден.`);
            }
        }

        // Пример использования функции
        // changeStyleDelayed("myElement", 2000); // Через 2 секунды изменяет стиль элемента с id 'myElement'

        changeStyleDelayed("myElement", 2000, 5000); // Через 2 секунды изменяет стиль элемента с id 'myElement'
    </script>
</body>

</html>