<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Коллекции Итераторы и Модули</title>
  </head>

  <body>
    <script>
      //         Задание 1 • Используя Symbol.iterator, создайте объект "Музыкальная коллекция",
      // который можно итерировать. Каждая итерация должна возвращать следующий альбом из
      // коллекции. • Создайте объект musicCollection, который содержит массив альбомов и
      // имеет свойство-символ Symbol.iterator. Каждый альбом имеет следующую структуру:
      // { title: "Название альбома", artist: "Исполнитель", year: "Год выпуска" } •
      // Реализуйте кастомный итератор для объекта musicCollection. Итератор должен
      // перебирать альбомы по порядку. • Используйте цикл for...of для перебора альбомов
      // в музыкальной коллекции и вывода их на консоль в формате: Название альбома -
      // Исполнитель (Год выпуска)

      const musicCollection = {
        albums: [
          {
            title: "Album 1",
            artist: "Artist 1",
            year: "2001",
          },
          {
            title: "Album 2",
            artist: "Artist 2",
            year: "2002",
          },
          {
            title: "Album 3",
            artist: "Artist 3",
            year: "2003",
          },
        ],
        [Symbol.iterator]: function () {
          let index = 0;
          const albums = this.albums;

          return {
            next: function () {
              if (index < albums.length) {
                return {
                  value: albums[index++],
                  done: false,
                };
              } else {
                return {
                  done: true,
                };
              }
            },
          };
        },
      };

      // Перебор альбомов с помощью for...of
      for (const album of musicCollection) {
        console.log(`${album.title} - ${album.artist} (${album.year})`);
      }

      //  Задание 2 Вы управляете рестораном, в котором работают
      // разные повара, специализирующиеся на определенных блюдах. Клиенты приходят и
      // делают заказы на разные блюда. Необходимо создать систему управления этими
      // заказами, которая позволит: • Отслеживать, какой повар готовит какое блюдо. •
      // Записывать, какие блюда заказал каждый клиент. Используйте коллекции Map для
      // хранения блюд и их поваров, а также для хранения заказов каждого клиента. В
      // качестве ключей для клиентов используйте объекты. Повара и их специализации:
      // Виктор - специализация: Пицца. Ольга - специализация: Суши. Дмитрий -
      // специализация: Десерты. Блюда и их повара: Пицца "Маргарита" - повар: Виктор.
      // Пицца "Пепперони" - повар: Виктор. Суши "Филадельфия" - повар: Ольга. Суши
      // "Калифорния" - повар: Ольга. Тирамису - повар: Дмитрий. Чизкейк - повар:
      // Дмитрий. Заказы: Клиент Алексей заказал: Пиццу "Пепперони" и Тирамису. Клиент
      // Мария заказала: Суши "Калифорния" и Пиццу "Маргарита". Клиент Ирина заказала:
      // Чизкейк.

      // Создание поваров и их специализаций
      const chefs = new Map([
        ["Виктор", "Пицца"],
        ["Ольга", "Суши"],
        ["Дмитрий", "Десерты"],
      ]);

      // Создание блюд и их поваров
      const dishes = new Map([
        ["Пицца 'Маргарита'", "Виктор"],
        ["Пицца 'Пепперони'", "Виктор"],
        ["Суши 'Филадельфия'", "Ольга"],
        ["Суши 'Калифорния'", "Ольга"],
        ["Тирамису", "Дмитрий"],
        ["Чизкейк", "Дмитрий"],
      ]);

      // Создание заказов клиентов
      const orders = new Map();

      // Функция для добавления заказа
      function addOrder(client, dish) {
        if (!orders.has(client)) {
          orders.set(client, []);
        }
        orders.get(client).push(dish);
      }

      // Добавляем заказы
      addOrder("Алексей", "Пицца 'Пепперони'");
      addOrder("Алексей", "Тирамису");
      addOrder("Мария", "Суши 'Калифорния'");
      addOrder("Мария", "Пицца 'Маргарита'");
      addOrder("Ирина", "Чизкейк");

      // Вывод информации о заказах
      for (const [client, dishes] of orders) {
        console.log(`${client} заказал(а): ${dishes.join(", ")}`);
      }

      // Вывод информации о том, какой повар готовит какое блюдо
      for (const [dish, chef] of dishes) {
        console.log(`${dish} - повар: ${chef}`);
      }
    </script>
  </body>
</html>
